<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>HeyGen Player Embed</title>
  <style>
    body { margin: 0; background: #000; color: #0f0; font-family: sans-serif; }
    #player { width: 100%; height: 600px; display: block; background: #111; }
  </style>
</head>
<body>
  <div id="player">⏳ Loading avatar…</div>

  <!-- Load your UMD bundle -->
  <script src="./heygen-player.umd.js"></script>

  <script>
    console.log("[player-embed] booting…");

    window.addEventListener("load", () => {
      if (!window.HeyGenPlayer) {
        console.error("[player-embed] HeyGenPlayer missing from window");
        return;
      }
      console.log("[player-embed] ✅ HeyGenPlayer ready");

      // Grab the target div
      const container = document.getElementById("player");

      // Create the avatar client
      const client = window.HeyGenPlayer.create({
        el: container, // pass the div as the mounting point
        sdkToken: "YOUR_TEST_SDK_TOKEN",
        avatarId: "Dexter_Doctor_Standing2_public",
        kbId: "14b2ed85d8804bf5bef881da5a7e819e"
      });

      // Optionally wire up events
      client.on("speechStart", () => console.log("[player-embed] avatar started speaking"));
      client.on("speechEnd", () => console.log("[player-embed] avatar finished speaking"));
    });
  </script>
</body>
</html>
